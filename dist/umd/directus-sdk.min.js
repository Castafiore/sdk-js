!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("es6-promise"),require("isomorphic-fetch")):"function"==typeof define&&define.amd?define(["exports","es6-promise","isomorphic-fetch"],e):e((t=t||self).Directus={},t.es6promise)}(this,function(t,e){"use strict";var r="URLSearchParams"in self,o="Symbol"in self&&"iterator"in Symbol,a="FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(t){return!1}}(),i="FormData"in self,n="ArrayBuffer"in self;if(n)var s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(t){return t&&-1<s.indexOf(Object.prototype.toString.call(t))};function p(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function c(t){return"string"!=typeof t&&(t=String(t)),t}function f(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return o&&(t[Symbol.iterator]=function(){return t}),t}function l(e){this.map={},e instanceof l?e.forEach(function(t,e){this.append(e,t)},this):Array.isArray(e)?e.forEach(function(t){this.append(t[0],t[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function h(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function d(r){return new Promise(function(t,e){r.onload=function(){t(r.result)},r.onerror=function(){e(r.error)}})}function y(t){var e=new FileReader,r=d(e);return e.readAsArrayBuffer(t),r}function g(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function m(){return this.bodyUsed=!1,this._initBody=function(t){(this._bodyInit=t)?"string"==typeof t?this._bodyText=t:a&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:i&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:r&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():n&&a&&function(t){return t&&DataView.prototype.isPrototypeOf(t)}(t)?(this._bodyArrayBuffer=g(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):n&&(ArrayBuffer.prototype.isPrototypeOf(t)||u(t))?this._bodyArrayBuffer=g(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},a&&(this.blob=function(){var t=h(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?h(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(y)}),this.text=function(){var t=h(this);if(t)return t;if(this._bodyBlob)return function(t){var e=new FileReader,r=d(e);return e.readAsText(t),r}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),r=new Array(e.length),o=0;o<e.length;o++)r[o]=String.fromCharCode(e[o]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},i&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}l.prototype.append=function(t,e){t=p(t),e=c(e);var r=this.map[t];this.map[t]=r?r+", "+e:e},l.prototype.delete=function(t){delete this.map[p(t)]},l.prototype.get=function(t){return t=p(t),this.has(t)?this.map[t]:null},l.prototype.has=function(t){return this.map.hasOwnProperty(p(t))},l.prototype.set=function(t,e){this.map[p(t)]=c(e)},l.prototype.forEach=function(t,e){for(var r in this.map)this.map.hasOwnProperty(r)&&t.call(e,this.map[r],r,this)},l.prototype.keys=function(){var r=[];return this.forEach(function(t,e){r.push(e)}),f(r)},l.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),f(e)},l.prototype.entries=function(){var r=[];return this.forEach(function(t,e){r.push([e,t])}),f(r)},o&&(l.prototype[Symbol.iterator]=l.prototype.entries);var v=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function b(t,e){var r=(e=e||{}).body;if(t instanceof b){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new l(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,r||null==t._bodyInit||(r=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new l(e.headers)),this.method=function(t){var e=t.toUpperCase();return-1<v.indexOf(e)?e:t}(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function w(t){var i=new FormData;return t.trim().split("&").forEach(function(t){if(t){var e=t.split("="),r=e.shift().replace(/\+/g," "),o=e.join("=").replace(/\+/g," ");i.append(decodeURIComponent(r),decodeURIComponent(o))}}),i}function _(t,e){e=e||{},this.type="default",this.status=void 0===e.status?200:e.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new l(e.headers),this.url=e.url||"",this._initBody(t)}b.prototype.clone=function(){return new b(this,{body:this._bodyInit})},m.call(b.prototype),m.call(_.prototype),_.prototype.clone=function(){return new _(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new l(this.headers),url:this.url})},_.error=function(){var t=new _(null,{status:0,statusText:""});return t.type="error",t};var P=[301,302,303,307,308];_.redirect=function(t,e){if(-1===P.indexOf(e))throw new RangeError("Invalid status code");return new _(null,{status:e,headers:{location:t}})};var A=self.DOMException;try{new A}catch(t){(A=function(t,e){this.message=t,this.name=e;var r=Error(t);this.stack=r.stack}).prototype=Object.create(Error.prototype),A.prototype.constructor=A}function j(n,s){return new Promise(function(r,t){var e=new b(n,s);if(e.signal&&e.signal.aborted)return t(new A("Aborted","AbortError"));var o=new XMLHttpRequest;function i(){o.abort()}o.onload=function(){var t={status:o.status,statusText:o.statusText,headers:function(t){var i=new l;return t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var e=t.split(":"),r=e.shift().trim();if(r){var o=e.join(":").trim();i.append(r,o)}}),i}(o.getAllResponseHeaders()||"")};t.url="responseURL"in o?o.responseURL:t.headers.get("X-Request-URL");var e="response"in o?o.response:o.responseText;r(new _(e,t))},o.onerror=function(){t(new TypeError("Network request failed"))},o.ontimeout=function(){t(new TypeError("Network request failed"))},o.onabort=function(){t(new A("Aborted","AbortError"))},o.open(e.method,e.url,!0),"include"===e.credentials?o.withCredentials=!0:"omit"===e.credentials&&(o.withCredentials=!1),"responseType"in o&&a&&(o.responseType="blob"),e.headers.forEach(function(t,e){o.setRequestHeader(e,t)}),e.signal&&(e.signal.addEventListener("abort",i),o.onreadystatechange=function(){4===o.readyState&&e.signal.removeEventListener("abort",i)}),o.send(void 0===e._bodyInit?null:e._bodyInit)})}j.polyfill=!0,self.fetch||(self.fetch=j,self.Headers=l,self.Request=b,self.Response=_),e.polyfill();var E="directus-sdk-js",x=(Object.defineProperty(I.prototype,"token",{get:function(){return this.internalConfiguration.token},set:function(t){this.partialUpdate({token:t})},enumerable:!0,configurable:!0}),Object.defineProperty(I.prototype,"tokenExpirationTime",{get:function(){return this.internalConfiguration.tokenExpirationTime},set:function(t){this.partialUpdate({tokenExpirationTime:6e4*t})},enumerable:!0,configurable:!0}),Object.defineProperty(I.prototype,"url",{get:function(){return this.internalConfiguration.url},set:function(t){this.partialUpdate({url:t})},enumerable:!0,configurable:!0}),Object.defineProperty(I.prototype,"project",{get:function(){return this.internalConfiguration.project},set:function(t){this.partialUpdate({project:t||"_"})},enumerable:!0,configurable:!0}),Object.defineProperty(I.prototype,"localExp",{get:function(){return this.internalConfiguration.localExp},set:function(t){this.partialUpdate({localExp:t})},enumerable:!0,configurable:!0}),Object.defineProperty(I.prototype,"persist",{get:function(){return this.internalConfiguration.persist},set:function(t){this.internalConfiguration.persist=t},enumerable:!0,configurable:!0}),I.prototype.update=function(t){this.internalConfiguration=t,this.hydrate(t)},I.prototype.partialUpdate=function(t){this.internalConfiguration=__assign({},this.internalConfiguration,t),this.hydrate(this.internalConfiguration)},I.prototype.reset=function(){delete this.internalConfiguration.token,delete this.internalConfiguration.url,delete this.internalConfiguration.localExp,this.internalConfiguration.project="_",this.deleteHydratedConfig()},I.prototype.dehydrate=function(){if(this.storage&&this.persist){var t=this.storage.getItem(E);if(t){var e=JSON.parse(t);return this.internalConfiguration=e}}},I.prototype.hydrate=function(t){this.storage&&this.persist&&this.storage.setItem(E,JSON.stringify(t))},I.prototype.deleteHydratedConfig=function(){this.storage&&this.persist&&this.storage.removeItem(E)},I.prototype.dehydratedInitialConfiguration=function(t){if(!t)return{};var e=t.getItem(E);if(e)try{return JSON.parse(e)}catch(t){return{}}},I.defaults={project:"_",tokenExpirationTime:3e4},I);function I(t,e){void 0===t&&(t={});var r={};(this.storage=e)&&Boolean(t&&t.persist)&&(r=this.dehydratedInitialConfiguration(e));var o=Boolean(r.persist||t.persist),i=r.project||t.project||I.defaults.project,n=r.tokenExpirationTime||t.tokenExpirationTime||I.defaults.tokenExpirationTime;this.internalConfiguration=__assign({},t,r,{persist:o,project:i,tokenExpirationTime:n})}function T(t){return t.startsWith("directus_")?"/"+t.substr(9):"/items/"+t}var C="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function O(t,e){return Object.prototype.toString.call(e)==="[object "+t+"]"}function k(t){return t&&"string"==typeof t&&/\S/.test(t)}function R(t){return t instanceof Function}function U(t){if(!function(t){return O("Object",t)}(t))return!1;for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!0;return!1}var B;S=B={exports:{}},q=B.exports,function(t){var e=q,r=S&&S.exports==e&&S,o="object"==typeof C&&C;function i(t){this.message=t}function p(t){throw new i(t)}o.global!==o&&o.window!==o||(t=o),(i.prototype=new Error).name="InvalidCharacterError";var c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=/[\t\n\f\r ]/g,n={encode:function(t){t=String(t),/[^\0-\xFF]/.test(t)&&p("The string to be encoded contains characters outside of the Latin1 range.");for(var e,r,o,i,n=t.length%3,s="",a=-1,u=t.length-n;++a<u;)e=t.charCodeAt(a)<<16,r=t.charCodeAt(++a)<<8,o=t.charCodeAt(++a),s+=c.charAt((i=e+r+o)>>18&63)+c.charAt(i>>12&63)+c.charAt(i>>6&63)+c.charAt(63&i);return 2==n?(e=t.charCodeAt(a)<<8,r=t.charCodeAt(++a),s+=c.charAt((i=e+r)>>10)+c.charAt(i>>4&63)+c.charAt(i<<2&63)+"="):1==n&&(i=t.charCodeAt(a),s+=c.charAt(i>>2)+c.charAt(i<<4&63)+"=="),s},decode:function(t){var e=(t=String(t).replace(a,"")).length;e%4==0&&(e=(t=t.replace(/==?$/,"")).length),e%4!=1&&!/[^+a-zA-Z0-9/]/.test(t)||p("Invalid character: the string to be decoded is not correctly encoded.");for(var r,o,i=0,n="",s=-1;++s<e;)o=c.indexOf(t.charAt(s)),r=i%4?64*r+o:o,i++%4&&(n+=String.fromCharCode(255&r>>(-2*i&6)));return n},version:"0.1.0"};if(e&&!e.nodeType)if(r)r.exports=n;else for(var s in n)n.hasOwnProperty(s)&&(e[s]=n[s]);else t.base64=n}(C);var S,q;function F(t){if(!t||t.length<0||t.split(".").length<=0)return{};try{var e=(void 0)(t.split(".")[1].replace("-","+").replace("_","/")),r=JSON.parse(e);return function(t){return O("Number",t)&&isFinite(t)&&!isNaN(parseFloat(t))}(r.exp)&&(r.exp=new Date(1e3*r.exp)),r}catch(t){return{}}}var D=(L.prototype.isLoggedIn=function(){return!!(k(this.config.token)&&k(this.config.url)&&k(this.config.project)&&U(this.getPayload())&&this.config.localExp>Date.now())},L.prototype.login=function(r,t){var o=this;return this.config.token=null,k(r.url)&&(this.config.url=r.url),k(r.project)&&(this.config.project=r.project),(r.persist||t&&t.persist||this.config.persist)&&this.startInterval(),new Promise(function(e,t){o.inject.post("/auth/authenticate",{email:r.email,password:r.password}).then(function(t){return o.config.token=t.data.token}).then(function(t){o.config.localExp=new Date(Date.now()+o.config.tokenExpirationTime).getTime(),e({localExp:o.config.localExp,project:o.config.project,token:t,url:o.config.url})}).catch(t)})},L.prototype.logout=function(){this.config.reset(),this.refreshInterval&&this.stopInterval()},L.prototype.refreshIfNeeded=function(){var r=this,t=this.getPayload(),e=this.config,o=e.token,i=e.url,n=e.project,s=e.localExp;if(k(o)&&k(i)&&k(n)&&t&&t.exp){var a=(s||0)-Date.now();if(!(a<=0))return a<3e4?new Promise(function(e){r.refresh(o).then(function(t){r.config.localExp=new Date(Date.now()+r.config.tokenExpirationTime).getTime(),r.config.token=t.data.token||o,R(r.onAutoRefreshSuccess)&&r.onAutoRefreshSuccess(r.config),e([!0])}).catch(function(t){R(r.onAutoRefreshError)&&r.onAutoRefreshError(t),e([!0,t])})}):void 0;R(this.onAutoRefreshError)&&this.onAutoRefreshError({code:102,message:"auth_expired_token"})}},L.prototype.refresh=function(t){return this.inject.post("/auth/refresh",{token:t})},L.prototype.startInterval=function(t){t&&this.refreshIfNeeded(),this.refreshInterval=setInterval(this.refreshIfNeeded.bind(this),1e4)},L.prototype.stopInterval=function(){clearInterval(this.refreshInterval),this.refreshInterval=null},L.prototype.getPayload=function(){return k(this.config.token)?F(this.config.token):null},L);function L(t,e){this.config=t,this.inject=e,t.token&&t.token.includes(".")&&this.startInterval(!0)}var N=function(t,e){return t+"="+e};function H(o){return __awaiter(this,void 0,void 0,function(){var e,r;return __generator(this,function(t){switch(t.label){case 0:if(!o)throw new Error("Invalid request options: "+o);return e=o.url,o.baseURL&&(e=o.baseURL+"/"+e),o.params&&(e=e+"?"+function t(e,r,o){void 0===o&&(o=N);var i,n=[];for(i in e)if(e.hasOwnProperty(i)){var s=r?r+"["+i+"]":i,a=e[i];n.push(null!==a&&"object"==typeof a?t(a,s):o(s,a))}return n.join("")}(o.params)),o.body&&"string"!=typeof o.body&&(o.body=JSON.stringify(o.body)),[4,function(t,r){return Promise.race([t(),new Promise(function(t,e){setTimeout(function(){return e(new Error("Timeout of "+r+" reached"))},r)})])}(function(){return fetch(e,{method:o.method,body:o.body,headers:o.headers,credentials:o.credentials||"omit"})},o.timeout||2e3)];case 1:return r=t.sent(),o&&o.skipToJSON?[4,r.text()]:[3,3];case 2:return[2,t.sent()];case 3:return[4,r.json()];case 4:return[2,t.sent()]}})})}var J;J=Error,__extends(M,J),Object.defineProperty(M.prototype,"url",{get:function(){return this.info.url},enumerable:!0,configurable:!0}),Object.defineProperty(M.prototype,"method",{get:function(){return this.info.method.toUpperCase()},enumerable:!0,configurable:!0}),Object.defineProperty(M.prototype,"code",{get:function(){return""+(this.info.code||-1)},enumerable:!0,configurable:!0}),Object.defineProperty(M.prototype,"params",{get:function(){return this.info.params||{}},enumerable:!0,configurable:!0}),M.prototype.toString=function(){return["Directus call failed:",this.method+" "+this.url+" "+JSON.stringify(this.params)+" -",this.message,"(code "+this.code+")"].join(" ")};function M(t,e){var r=this.constructor,o=J.call(this,t)||this;return o.message=t,o.info=e,Object.setPrototypeOf(o,r.prototype),o}var z=(G.prototype.reset=function(){this.auth.logout(),this.config.deleteHydratedConfig()},G.prototype.get=function(t,e){return void 0===e&&(e={}),this.request("get",t,e)},G.prototype.post=function(t,e,r){return void 0===e&&(e={}),void 0===r&&(r={}),this.request("post",t,r,e)},G.prototype.patch=function(t,e,r){return void 0===e&&(e={}),void 0===r&&(r={}),this.request("patch",t,r,e)},G.prototype.put=function(t,e,r){return void 0===e&&(e={}),void 0===r&&(r={}),this.request("put",t,r,e)},G.prototype.delete=function(t){return this.request("delete",t)},G.prototype.getPayload=function(){return k(this.config.token)?F(this.config.token):null},G.prototype.request=function(t,e,r,o,i,n,s){if(void 0===r&&(r={}),void 0===o&&(o={}),void 0===i&&(i=!1),void 0===n&&(n={}),void 0===s&&(s=!1),!this.config.url)throw new Error("API has no URL configured to send requests to, please check the docs.");var a=this.config.url+"/";return!1===i&&(a+=this.config.project+"/"),this.config.token&&k(this.config.token)&&0<this.config.token.length&&(n.Authorization="Bearer "+this.config.token),this.fetch({method:t,url:e,body:o,baseURL:a,headers:n,params:r,skipToJSON:s})},G);function G(t){this.config=t,this.fetch=H,this.auth=new D(t,{post:this.post.bind(this)})}var K=(Object.defineProperty(V.prototype,"loggedIn",{get:function(){return this.api.auth.isLoggedIn()},enumerable:!0,configurable:!0}),Object.defineProperty(V.prototype,"payload",{get:function(){return this.config.token?this.api.getPayload():null},enumerable:!0,configurable:!0}),V.prototype.login=function(t,e){return this.api.auth.login(t,e)},V.prototype.logout=function(){this.api.auth.logout()},V.prototype.reset=function(){this.api.reset()},V.prototype.refreshIfNeeded=function(){return this.api.auth.refreshIfNeeded()},V.prototype.refresh=function(t){return this.api.auth.refresh(t)},V.prototype.requestPasswordReset=function(t){return this.api.post("/auth/password/request",{email:t})},V.prototype.getActivity=function(t){return void 0===t&&(t={}),this.api.get("/activity",t)},V.prototype.getMyBookmarks=function(t){return void 0===t&&(t={}),this.getCollectionPresets(t)},V.prototype.getCollections=function(t){return void 0===t&&(t={}),this.api.get("/collections",t)},V.prototype.getCollection=function(t,e){return void 0===e&&(e={}),this.api.get("/collections/"+t,e)},V.prototype.createCollection=function(t){return this.api.post("/collections",t)},V.prototype.updateCollection=function(t,e){return this.api.patch("/collections/"+t,e)},V.prototype.deleteCollection=function(t){return this.api.delete("/collections/"+t)},V.prototype.getCollectionPresets=function(t){var e=this.api.getPayload();return Promise.all([this.api.get("/collection_presets",{"filter[title][nnull]":1,"filter[user][eq]":e.id}),this.api.get("/collection_presets",{"filter[role][eq]":e.role,"filter[title][nnull]":1,"filter[user][null]":1})]).then(function(t){var e=t[0],r=t[1];return(e.data||[]).concat(r.data||[])})},V.prototype.createCollectionPreset=function(t){return this.api.post("/collection_presets",t)},V.prototype.updateCollectionPreset=function(t,e){return this.api.patch("/collection_presets/"+t,e)},V.prototype.deleteCollectionPreset=function(t){return this.api.delete("/collection_presets/"+t)},V.prototype.getInterfaces=function(){return this.api.request("get","/interfaces",{},{},!0)},V.prototype.getLayouts=function(){return this.api.request("get","/layouts",{},{},!0)},V.prototype.getPages=function(){return this.api.request("get","/pages",{},{},!0)},V.prototype.getAllFields=function(t){return void 0===t&&(t={}),this.api.get("/fields",t)},V.prototype.getFields=function(t,e){return void 0===e&&(e={}),this.api.get("/fields/"+t,e)},V.prototype.getField=function(t,e,r){return void 0===r&&(r={}),this.api.get("/fields/"+t+"/"+e,r)},V.prototype.createField=function(t,e){return this.api.post("/fields/"+t,e)},V.prototype.updateField=function(t,e,r){return this.api.patch("/fields/"+t+"/"+e,r)},V.prototype.updateFields=function(t,e,r){return void 0===r&&(r=null),r?this.api.patch("/fields/"+t+"/"+e.join(","),r):this.api.patch("/fields/"+t,e)},V.prototype.deleteField=function(t,e){return this.api.delete("/fields/"+t+"/"+e)},V.prototype.getFiles=function(e){return void 0===e&&(e={}),__awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return[2,this.api.get("/files",e)]})})},V.prototype.getFile=function(r,o){return void 0===o&&(o={}),__awaiter(this,void 0,void 0,function(){var e;return __generator(this,function(t){return e="string"==typeof r?r:r.join(","),[2,this.api.get("/files/"+e,o)]})})},V.prototype.uploadFiles=function(t,e){var r={Authorization:"Bearer "+this.config.token,"Content-Type":"multipart/form-data"};return H({method:"post",url:this.config.url+"/"+this.config.project+"/files",body:t,headers:r})},V.prototype.updateItem=function(t,e,r,o){void 0===o&&(o={});var i=T(t);return this.api.patch(i+"/"+e,r,o)},V.prototype.updateItems=function(t,e,r){void 0===r&&(r={});var o=T(t);return this.api.patch(o,e,r)},V.prototype.createItem=function(t,e){var r=T(t);return this.api.post(r,e)},V.prototype.createItems=function(t,e){var r=T(t);return this.api.post(r,e)},V.prototype.getItems=function(t,e){void 0===e&&(e={});var r=T(t);return this.api.get(r,e)},V.prototype.getItem=function(t,e,r){void 0===r&&(r={});var o=T(t);return this.api.get(o+"/"+e,r)},V.prototype.deleteItem=function(t,e){var r=T(t);return this.api.delete(r+"/"+e)},V.prototype.deleteItems=function(t,e){var r=T(t);return this.api.delete(r+"/"+e.join())},V.prototype.getMyListingPreferences=function(t,e){var r=this.api.getPayload();return Promise.all([this.api.get("/collection_presets",{"filter[collection][eq]":t,"filter[role][null]":1,"filter[title][null]":1,"filter[user][null]":1,limit:1,sort:"-id"}),this.api.get("/collection_presets",{"filter[collection][eq]":t,"filter[role][eq]":r.role,"filter[title][null]":1,"filter[user][null]":1,limit:1,sort:"-id"}),this.api.get("/collection_presets",{"filter[collection][eq]":t,"filter[role][eq]":r.role,"filter[title][null]":1,"filter[user][eq]":r.id,limit:1,sort:"-id"})]).then(function(t){var e=t[0],r=t[1],o=t[2];return o.data&&0<o.data.length?o.data[0]:r.data&&0<r.data.length?r.data[0]:e.data&&0<e.data.length?e.data[0]:{}})},V.prototype.getPermissions=function(t){return void 0===t&&(t={}),this.getItems("directus_permissions",t)},V.prototype.getMyPermissions=function(t){return void 0===t&&(t={}),this.api.get("/permissions/me",t)},V.prototype.createPermissions=function(t){return this.api.post("/permissions",t)},V.prototype.updatePermissions=function(t){return this.api.patch("/permissions",t)},V.prototype.getRelations=function(t){return void 0===t&&(t={}),this.api.get("/relations",t)},V.prototype.createRelation=function(t){return this.api.post("/relations",t)},V.prototype.updateRelation=function(t,e){return this.api.patch("/relations/"+t,e)},V.prototype.getCollectionRelations=function(t,e){return Promise.all([this.api.get("/relations",{"filter[collection_a][eq]":t}),this.api.get("/relations",{"filter[collection_b][eq]":t})])},V.prototype.getItemRevisions=function(t,e,r){void 0===r&&(r={});var o=T(t);return this.api.get(o+"/"+e+"/revisions",r)},V.prototype.revert=function(t,e,r){var o=T(t);return this.api.patch(o+"/"+e+"/revert/"+r)},V.prototype.getRole=function(t,e){return void 0===e&&(e={}),this.api.get("/roles/"+t,e)},V.prototype.getRoles=function(t){return void 0===t&&(t={}),this.api.get("/roles",t)},V.prototype.updateRole=function(t,e){return this.updateItem("directus_roles",t,e)},V.prototype.createRole=function(t){return this.createItem("directus_roles",t)},V.prototype.deleteRole=function(t){return this.deleteItem("directus_roles",t)},V.prototype.getSettings=function(t){return void 0===t&&(t={}),this.api.get("/settings",t)},V.prototype.getSettingsFields=function(t){return void 0===t&&(t={}),this.api.get("/settings/fields",t)},V.prototype.getUsers=function(t){return void 0===t&&(t={}),this.api.get("/users",t)},V.prototype.getUser=function(t,e){return void 0===e&&(e={}),this.api.get("/users/"+t,e)},V.prototype.getMe=function(t){return void 0===t&&(t={}),this.api.get("/users/me",t)},V.prototype.updateUser=function(t,e){return this.updateItem("directus_users",t,e)},V.prototype.updateDatabase=function(){return this.api.post("/update")},V.prototype.ping=function(){return this.api.request("get","/server/ping",{},{},!0,{},!0)},V.prototype.serverInfo=function(){return this.api.request("get","/",{},{},!0)},V.prototype.projectInfo=function(){return this.api.request("get","/")},V.prototype.getThirdPartyAuthProviders=function(){return this.api.get("/auth/sso")},V.getPayload=F,V);function V(t){this.config=new x(t),this.api=new z(this.config)}t.Configuration=x,t.SDK=K,t.default=K,t.getCollectionItemPath=T,t.getPayload=F,Object.defineProperty(t,"__esModule",{value:!0})});